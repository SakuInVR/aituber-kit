# AITuberコックピット 実装まとめ

## 概要

配信者がAIキャラクターを自在に操縦できる「AITuberコックピット」アプリをNext.js/Reactで実装。  
ワンボタン発話、台本再生、YouTubeコメント連携、AIプロンプト制御など、配信現場で即戦力となる多機能コントローラーを目指しました。

---

## 主な実装機能

### 1. ワンボタン・リアクション

- よく使うセリフをボタン化し、クリックで即座にAIキャラへ発話（direct_send API）
- Client IDやAPIエンドポイントは.envから自動取得＆UIで編集可能

### 2. シナリオランチャー（台本管理・再生）

- 台本（シナリオ）の追加・編集・削除機能
- 台本リストはlocalStorageに永続化
- 台本の各行を自動的に間隔調整しながら順次発話（途中スキップ防止）

### 3. インテリジェント・コメントピッカー

- YouTube APIキー・ライブIDを入力し、YouTubeライブ配信のコメントをリアルタイム取得
- 取得したコメントをリスト表示し、クリックでAIキャラに送信
- 手動追加コメントも併用可能
- 「本人にパス」ボタンでuser_input API、「神の指示を添付」ボタンでOpenAI API連携→AIキャラ発話

### 4. ゴッド・プロンプター

- 自由な指示文（systemPrompt）をAIに送り、返答をAIキャラに即時発話
- OpenAI APIプロキシ経由でsystemPromptのみでも動作

### 5. モード切り替え

- YouTubeモード・会話継続モードのON/OFFをCockpit UIから直接切り替え
- Zustandストアを利用し、公式UIと同じ状態管理を実現

---

## 技術的ポイント

- **API連携**: AITuberKitのREST API、OpenAI API、YouTube Data API v3を柔軟に組み合わせ
- **状態管理**: React useState＋Zustandストア＋localStorage永続化
- **UI/UX**: 配信現場での即応性・直感性を重視したレイアウトと操作性
- **エラー対応**: APIエラーや設定ミス時のフィードバックをUIに明示

---

## 使い方の流れ（例）

1. `.env`にAPIキーやClient IDを設定
2. `/cockpit`ページにアクセス
3. 必要に応じてYouTube APIキー・ライブIDを入力
4. ワンボタン・台本・コメントピック・プロンプト等を使い分けて配信をコントロール

---

## 今後の拡張例

- コメント自動フィルタリングやNGワード対応
- 台本のインポート/エクスポート
- 他AIサービス（Anthropic, Gemini等）への切り替え
- UIテーマやレイアウトのカスタマイズ

---

ご要望があれば、このまとめを`docs/aituber_cockpit_summary.md`などに保存することも可能です。  
引き続きカスタマイズや新機能のご相談もお待ちしています！
